---
title: 模型分发规则
description: 按任务类型将请求分发到不同模型（进阶）
navigation:
  icon: i-heroicons-arrows-right-left
---

# 模型分发规则

::alert{type="info"}
这是进阶能力。只有在“多模型并行使用”时才需要配置。
::

分发规则用于把不同任务自动交给更合适的模型。

## 什么时候需要它

- 文本创作和图片任务使用不同模型
- 同一主题需要“快速草稿 + 高质量润色”两种路径
- 你希望把高成本任务限制在特定模型上

## 常见策略

### 按任务类型分发

- 长文写作走高质量模型
- 快速问答走低延迟模型
- 图片任务走图片专用模型

### 按阶段分发

- 初稿阶段：速度优先
- 定稿阶段：质量优先

### 按兜底分发

主模型异常时，自动回退到备用模型。

## 示例（示意）

```yaml
routes:
  - pattern: "video-script-*"
    provider: "primary"
    model: "high-quality-model"
    priority: 10
  - pattern: "quick-*"
    provider: "fast-lane"
    model: "fast-model"
    priority: 20
  - pattern: "*"
    provider: "fallback"
    priority: 100
```

## 配置建议

1. 先只配 2 到 3 条关键规则
2. 给兜底规则留最后优先级
3. 每次改完都做一次路由测试

## 常见误区

- 规则过多导致难以维护
- 没有兜底规则，异常时直接失败
- 频繁改规则但不做回归测试
