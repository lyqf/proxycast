#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” è¿è¡Œ AI ä»£ç éªŒè¯..."

# ä»…å¯¹æš‚å­˜çš„æ–‡ä»¶è¿è¡ŒéªŒè¯
npx tsx scripts/ai-code-verify.ts

exit_code=$?

if [ $exit_code -ne 0 ]; then
  echo ""
  echo "âŒ AI ä»£ç éªŒè¯å¤±è´¥"
  echo ""
  echo "æç¤ºï¼š"
  echo "  - è·³è¿‡ï¼šgit commit --no-verify"
  echo "  - ç¦ç”¨ï¼šåœ¨ .ai-code-verify.json ä¸­è®¾ç½® \"enabled\": false"
  echo ""
fi

exit $exit_code
